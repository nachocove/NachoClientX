// This file has been autogenerated from a class added in the UI designer.

using System;

using Foundation;
using AppKit;

using NachoCore.Model;

namespace NachoClient.Mac
{
    public partial class AddAccountPageController : NachoPageController, AccountTypeViewDelegate, CredentialsViewDelegate
	{
		public AddAccountPageController (IntPtr handle) : base (handle)
		{
		}

        public override void ViewWillAppear ()
        {
            base.ViewWillAppear ();
            var typeController = Storyboard.InstantiateControllerWithIdentifier ("AccountTypeViewController") as AccountTypeViewController;
            typeController.AccountDelegate = this;
            PushViewController (typeController, animated: false);
        }

        public void AccountTypeViewDidSelectService (McAccount.AccountServiceEnum service)
        {
            var credentialsViewController = Storyboard.InstantiateControllerWithIdentifier ("StandardCredentialsViewController") as StandardCredentialsViewController;
            credentialsViewController.Service = service;
            credentialsViewController.AccountDelegate = this;
            PushViewController (credentialsViewController, animated: true);
        }

        public void CredentialsViewDidCreateAccount (McAccount account)
        {
            View.Window.Close ();
        }
	}
}
