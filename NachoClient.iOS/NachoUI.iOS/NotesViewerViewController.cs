// This file has been autogenerated from a class added in the UI designer.

using System;
using CoreGraphics;
using Foundation;
using UIKit;

namespace NachoClient.iOS
{
    public partial class NotesViewerViewController : NcUIViewController
    {

        public NotesViewerViewController () : base ()
        {
        }

        public NotesViewerViewController (IntPtr handle) : base (handle)
        {
        }

        nfloat yOffset;
        UINavigationBar navbar;
        UITextView notesTextView;
        INachoNotesControllerParent owner;

        public override void ViewDidLoad ()
        {
            base.ViewDidLoad ();

            CreateView ();
        }

        public override void ViewWillAppear (bool animated)
        {
            base.ViewWillAppear (animated);
        }

        public override void ViewWillDisappear (bool animated)
        {
            base.ViewWillDisappear (animated);
        }

        public override void ViewDidAppear (bool animated)
        {
            base.ViewDidAppear (animated);
        }

        public override void ViewDidDisappear (bool animated)
        {
            base.ViewDidDisappear (animated);
        }

        public void SetOwner (INachoNotesControllerParent owner)
        {
            this.owner = owner;
        }

        protected void CreateView ()
        {
            yOffset = 0;
            navbar = new UINavigationBar ();
            navbar.Frame = new CGRect (0, 0, View.Frame.Width, 64);
            View.AddSubview (navbar);
            navbar.BackgroundColor = A.Color_NachoGreen;
            navbar.Translucent = false;
            UINavigationItem title = new UINavigationItem ("Preview Note");
            navbar.SetItems (new UINavigationItem[]{ title }, false);
            UIBarButtonItem cancelButton = new NcUIBarButtonItem ();
            Util.SetAutomaticImageForButton (cancelButton, "icn-close");
            navbar.TopItem.LeftBarButtonItem = cancelButton;
            cancelButton.Clicked += (object sender, EventArgs e) => {
                DismissViewController (true, null);
            };
            cancelButton.AccessibilityLabel = "Cancel";
            yOffset += navbar.Frame.Height;
            notesTextView = new UITextView (new CGRect (0, 64, View.Frame.Width, View.Frame.Height - 64));
            notesTextView.Text = owner.GetNoteText ();
            notesTextView.Font = A.Font_AvenirNextRegular14;
            notesTextView.TextColor = A.Color_NachoBlack;
            notesTextView.BackgroundColor = UIColor.White;
            View.AddSubview (notesTextView);
        }

    }
}
