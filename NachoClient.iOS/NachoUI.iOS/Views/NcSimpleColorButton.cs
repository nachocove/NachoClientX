// This file has been autogenerated from a class added in the UI designer.

using System;

using Foundation;
using UIKit;

namespace NachoClient.iOS
{
    [Register ("NcSimpleColorButton")]
    public partial class NcSimpleColorButton : UIButton
    {

        public override UIColor BackgroundColor {
            get {
                return base.BackgroundColor;
            }
            set {
                base.BackgroundColor = value;
                _BackgroundColor = value;
                if (BackgroundColor != null) {
                    HighlightedColor = BackgroundColor.ColorWithAlpha (0.5f);
                } else {
                    HighlightedColor = null;
                }
            }
        }

        private UIColor _BackgroundColor;
        public UIColor HighlightedColor;

        public NcSimpleColorButton () : base (UIButtonType.Custom)
        {
            Initialize ();
        }

        public NcSimpleColorButton (IntPtr handle) : base (handle)
        {
            Initialize ();
        }

        void Initialize ()
        {
            TouchDown += (object sender, EventArgs e) => {
                if (HighlightedColor != null) {
                    base.BackgroundColor = HighlightedColor;
                }
            };

            TouchUpInside += (object sender, EventArgs e) => {
                base.BackgroundColor = _BackgroundColor;
            };

            TouchDragExit += (object sender, EventArgs e) => {
                base.BackgroundColor = _BackgroundColor;
            };

            TouchDragEnter += (object sender, EventArgs e) => {
                if (TouchInside && HighlightedColor != null) {
                    base.BackgroundColor = HighlightedColor;
                }
            };

            TouchCancel += (object sender, EventArgs e) => {
                base.BackgroundColor = _BackgroundColor;
            };
        }
    }
}
