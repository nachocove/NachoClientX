// This file has been autogenerated from a class added in the UI designer.

using System;
using System.Drawing;
using System.Collections.Generic;
using MonoTouch.Foundation;
using MonoTouch.UIKit;
using UIImageEffectsBinding;
using MonoTouch.CoreGraphics;
using NachoCore.Brain;
using NachoCore.Model;

namespace NachoClient.iOS
{
    public partial class ContactDefaultSelectionViewController : UIViewController
	{
        protected const float X_INDENT = 30;

        protected const int DISMISS_VIEW_BUTTON_TAG = 100;
        protected const int HEADER_LABEL_TAG = 101;

        protected const int ADD_EMAIL_VIEW_TAG = 200;

        public enum DefaultSelectionType {
            EmailAdder,
            PhoneNumberAdder,
            DefaultEmailSelector,
            DefaultPhoneSelector,
        }

        protected DefaultSelectionType viewType;

		public ContactDefaultSelectionViewController (IntPtr handle) : base (handle)
		{

		}

        protected void CreateViewHierarchy ()
        {
            View.BackgroundColor = A.Color_NachoGreen;

            UIButton dismissViewButton = new UIButton (new RectangleF (X_INDENT, X_INDENT, 25, 25));
            dismissViewButton.SetImage (UIImage.FromBundle ("modal-close"), UIControlState.Normal);
            dismissViewButton.TouchUpInside += DismissViewTouchUpInside;
            dismissViewButton.Tag = DISMISS_VIEW_BUTTON_TAG;
            View.AddSubview (dismissViewButton);    

            UILabel headerLabel = new UILabel (new RectangleF (View.Frame.Width / 2 - 75, X_INDENT, 150, 25));
            headerLabel.TextAlignment = UITextAlignment.Center;
            headerLabel.Font = A.Font_AvenirNextDemiBold17;
            headerLabel.TextColor = UIColor.White;
            headerLabel.Tag = HEADER_LABEL_TAG;
            View.AddSubview (headerLabel);

            float yOffset = headerLabel.Frame.Bottom + 16;
            Util.AddHorizontalLine (0, yOffset, View.Frame.Width, UIColor.LightGray, View);

            UIView addEmailView = new UIView (new RectangleF (0, yOffset, View.Frame.Width, View.Frame.Height - yOffset));
            addEmailView.BackgroundColor = A.Color_NachoGreen;
            addEmailView.Tag = ADD_EMAIL_VIEW_TAG;



        }

        private void DismissViewTouchUpInside (object sender, EventArgs e)
        {
            DismissViewController (true, null);

        }

	}
}
